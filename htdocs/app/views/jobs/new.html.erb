<h1>New job</h1>



<% form_for(@job, :html => {:multipart => true}) do |f| %>
  <%= f.error_messages %>

<div style="float: left; padding-right: 25px;">
  <p>
    <%= f.label :nodes %><br />
    <%= f.text_field :nodes %>
  </p>
  <p>
    <%= f.label :pvalue %><br />
    <%= f.text_field :pvalue %>
  </p>
  <p>
    <%= f.label :update_type %><br />
    <%= f.select :update_type, [ 
			["synchronous", ""],
      ["sequential", "sequential"],
		] %><br />
  </p>
  <p style="display:none">
    <p id="update_schedule">
      <%= f.label :update_schedule %><br /> 
      <%= f.text_field :update_schedule %>
    </p>
  </p>
  <a href="#" title="Update Schedule" onclick="Modalbox.show( $('update_schedule'), {title: this.title, width: 300}); return false;">here</a>
</div>

<div style="float: left; padding-right: 25px;">

  <div onclick="Effect.toggle('wiring_diagram', 'blind');" class="panel_header">Wiring Diagram Options</div>
  <div id="wiring_diagram" class="panel_body"> 
  <div>
	<%= f.check_box :show_wiring_diagram %>&nbsp;<%= f.label :show_wiring_diagram %><br />
    <%= f.label "Format: " %>
	<%= f.select :wiring_diagram_format, [ 
			["*.gif", "gif"],
			["*.jpg", "jpg"],
			["*.png", "png"],
			["*.ps", "ps"],
		] %><br />
	<%= f.check_box :show_probabilities_wiring_diagram %>&nbsp;<%= f.label :show_probabilities_wiring_diagram %>
  </div>
  </div>
  
  <br>

  <div onclick="Effect.toggle('state_space', 'blind');" class="panel_header">State Space Options</div>
  <div id="state_space" class="panel_body"> 
  <div>
    <%= f.check_box :show_state_space %>&nbsp;<%= f.label :show_state_space %><br />
    <%= f.label "Format: " %>
	<%= f.select :state_space_format, [ 
			["*.gif", "gif"],
			["*.jpg", "jpg"],
			["*.png", "png"],
			["*.ps", "ps"],
		] %><br />
	<%= f.check_box :show_probabilities_state_space %>&nbsp;<%= f.label :show_probabilities_state_space %>
  </div>
  </div>

  <br>

  <div onclick="Effect.toggle('discretization', 'blind');" class="panel_header">Discretization Options</div>
  <div id="discretization" class="panel_body"> 
  <div>
    <%= f.check_box :show_discretized %>&nbsp;<%= f.label :show_discretized %>
  </div>
  </div>

  <br>

  <div onclick="Effect.toggle('algorithm', 'blind');" class="panel_header">Parameter estimation algorithm options</div>
  <div id="algorithm" class="panel_body"> 
  <div>
  Here should be options for minsets,<br> sgfan, react (and the options for react)
  </div>
  </div>
  
  <p>
    <%= f.check_box :show_functions %>&nbsp;<%= f.label :show_functions %>
  </p>
  <p>
    <%= f.check_box :make_deterministic_model %>&nbsp;<%= f.label :make_deterministic_model %>
  </p>
</div>
<div style="float: left; padding-right: 25px;">
  <p>
    <%= f.label :input_data %><br />
    <%= f.text_area :input_data, :cols => 30, :rows => 15 %>
  </p>
  <p>
    <%= f.label :input_file %><br />
    <%= f.file_field :input_file %>
  </p>
</div>
<div style="float: left">
  <p>
    <%= f.label :known_functions %><br />
    <%= f.text_area :known_functions, :cols => 30, :rows => 15 %>
  </p>
  <p>
    <%= f.label :known_functions_file %><br />
    <%= f.file_field :known_functions_file %>
  </p>
</div>
<div style="clear: both"></div>
  <p>
    <%= f.submit 'Create' %>
  </p>
<% end %>

<%= link_to 'Back', jobs_path %>
